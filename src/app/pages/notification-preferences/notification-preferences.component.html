<app-navbar/>
<div class="preferences-container">
  <h2>Preferencias de Notificaciones</h2>

  <div class="toggle-section">
    <label class="toggle-switch">
      <input type="checkbox" [(ngModel)]="desktopNotifications" (change)="toggleDesktopNotifications()" />
      <span class="slider"></span>
    </label>
    <span class="toggle-label">Activar notificaciones en este navegador</span>
    <p>Recibe notificaciones en tu ordenador para tus recordatorios personalizados.</p>
  </div>

  <!-- Campo de entrada para el email -->
  <div>
    <label for="email">Correo Electrónico:</label>
    <input type="email" id="email" [(ngModel)]="email" required />
  </div>

  <!-- Selección de frecuencia -->
  <div>
    <label for="frequency">Frecuencia de Notificaciones:</label>
    <select id="frequency" [(ngModel)]="frequency">
      <option value="diario">Diario</option>
      <option value="semanal">Semanal</option>
      <option value="mensual">Mensual</option>
    </select>
  </div>

  <div class="preferences-list">
    <div class="preference-item" *ngFor="let pref of preferences" [class.disabled]="!desktopNotifications">
      <label class="toggle-switch">
        <input type="checkbox" [(ngModel)]="pref.enabled" [disabled]="!desktopNotifications" />
        <span class="slider"></span>
      </label>
      <span class="toggle-label">{{ pref.label }}</span>
      <p>{{ pref.description }}</p>
    </div>
  </div>

  <button (click)="savePreferences()">Guardar Preferencias</button>

  <!-- Mostrar mensaje de respuesta del backend -->
  <p *ngIf="message">{{ message }}</p>
</div>
<app-footer/>